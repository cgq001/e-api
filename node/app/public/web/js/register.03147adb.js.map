{"version":3,"sources":["webpack:///./src/views/Register/Index.vue","webpack:///./src/views/Register/components/RegisterUser.vue","webpack:///./src/views/Register/components/RegisterUser.vue?13bd","webpack:///./src/views/Register/Index.vue?22df","webpack:///./src/views/Register/Index.vue?baba","webpack:///./src/views/Register/components/RegisterUser.vue?5a8c"],"names":["class","type","href","model","loginFrom","rules","rulesFrom","ref","prop","spellcheck","email","disabled","codeLand","placeholder","style","span","code","sendCode","loading","codeText","password","codeId","length","isRegister","submitForm","data","passwordRult","rule","value","callback","Error","pR","test","required","message","trigger","validator","codeTime","methods","formName","this","$refs","validate","valid","console","log","uuid","then","res","status","$toast","success","clearInterval","$router","push","fail","err","emailRL","This","num","setInterval","fal","destroyed","render","__scopeId","components","RegisterUser"],"mappings":"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","file":"js/register.03147adb.js","sourcesContent":["<template>\r\n<!-- 登陆 -->\r\n    <div class=\"loginBox\">\r\n        <div class=\"loginMain\">\r\n            <div class=\"loginTitle\">\r\n                <span>E-API</span>\r\n                <span class=\"el-icon-close loginTitleIcon\"></span>\r\n            </div>\r\n            <div class=\"loginTag\">\r\n                注册新用户\r\n            </div>\r\n            <div class=\"loginMainContent\">\r\n                <RegisterUser></RegisterUser>\r\n            </div>\r\n            <!-- 忘记密码 -->\r\n            <div class=\"wxBoxFoot\">\r\n                <el-link type=\"primary\"  href='#/login'>已有账号,去登陆</el-link>\r\n                \r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport RegisterUser from './components/RegisterUser.vue'\r\n\r\nexport default {\r\n    components:{\r\n        RegisterUser\r\n    },\r\n    data(){\r\n        return {\r\n            \r\n        }\r\n    },\r\n    \r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.loginBox{\r\n    width: 100%;\r\n    height: 100%;\r\n    background: url('../../assets/image/loginBg.png') no-repeat;\r\n    background-size: 100% 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.loginMain{\r\n    width: 450px;\r\n    height: 430px;\r\n    background: #fff;\r\n    position: relative;\r\n}\r\n.loginTitle{\r\n    width: 100%;\r\n    height: 30px;\r\n    // background: #E1E2E3;\r\n    padding: 0 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    font-size: 12px;\r\n    color: #636B82;\r\n}\r\n.loginTitle span:nth-child(1){\r\n    width: calc(100% - 30px);\r\n    height: 30px;\r\n    display: inline-block;\r\n    line-height: 30px;\r\n    -webkit-app-region: drag;\r\n    // background: chartreuse;\r\n}\r\n.loginTitleIcon{\r\n    width: 30px;\r\n    height: 30px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.loginTag{\r\n    width: 100%;\r\n    height: 40px;\r\n    // background: bisque;\r\n    border-bottom: 1px solid #E9ECEF;\r\n    box-sizing: border-box;\r\n    // display: flex;\r\n    // justify-content: space-between;\r\n    text-align: center;\r\n    line-height: 40px;\r\n}\r\n.loginTagItem{\r\n    width: 50%;\r\n    height: 100%;\r\n    // border-right: 1px solid #E9ECEF;\r\n    text-align: center;\r\n    line-height: 40px;\r\n    cursor: pointer;\r\n}\r\n.loginMainContent{\r\n    width: 100%;\r\n    height: calc(100% - 70px);\r\n    // height: 150px;\r\n    // background: cornflowerblue;\r\n}\r\n.wxBoxFoot{\r\n    width: 100%;\r\n    height: 35px;\r\n    // background: bisque;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 10px;\r\n    padding: 0px 20px 0 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n}\r\n</style>","<template>\r\n    <div class=\"wxBox\">\r\n        <!-- 表单 -->\r\n        <div class=\"wxFrom\">\r\n            <el-form :model=\"loginFrom\" :rules=\"rulesFrom\" ref=\"ruleForm\" class=\"demo-ruleForm\">\r\n                <el-form-item  prop=\"email\">\r\n                    <el-input spellcheck=\"false\" v-model.trim=\"loginFrom.email\" :disabled='codeLand' placeholder=\"请输入邮箱(推荐QQ邮箱，其他可能不成功)地址\"></el-input>\r\n                </el-form-item>\r\n                 <el-form-item  prop=\"code\" style=\"display: flex; justify-content: flex-start;\">\r\n                    <el-col :span=\"11\">\r\n                        <el-input spellcheck=\"false\" style=\"width: 100%;\" v-model.trim.number=\"loginFrom.code\" placeholder=\"请输入验证码\"></el-input>\r\n                    </el-col>\r\n                     <el-col :span=\"2\"></el-col>\r\n                    <el-col :span=\"11\">\r\n                        <el-button type=\"primary\" style=\"width: 100%;\" @click=\"sendCode\" :loading='codeLand'>{{codeText}}</el-button>\r\n                    </el-col>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"password\" style=\"margin-bottom: 50px;\">\r\n                    <el-input spellcheck=\"false\" style=\"width: 100%\" v-model.trim=\"loginFrom.password\" placeholder=\"请输入密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" style=\"width: 100%\" :disabled=\"this.codeId.length == 0\" :loading='isRegister' @click=\"submitForm('ruleForm')\">立即注册</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { registerUserSendEmail, registerUser } from '@/api/item.js'\r\n\r\nexport default {\r\n    data(){\r\n        var passwordRult = (rule, value, callback) => {\r\n                if (!value) {\r\n                return callback(new Error('密码不能为空'));\r\n                }\r\n                // \r\n                let pR = /^[a-zA-Z0-9_-]{6,18}$/\r\n                if (!pR.test(value)) {\r\n                    callback(new Error('密码须为6~18位的字数、数字或者下划线'));\r\n                } else {\r\n                    callback();\r\n                }\r\n             \r\n            }\r\n        return {\r\n            \r\n            loginFrom:{\r\n                email: null,\r\n                password: null,\r\n                code: null\r\n            },\r\n            rulesFrom: {\r\n                email: [\r\n                    {  type: 'email' , required: true, message: '请输入邮箱地址', trigger: 'blur' }\r\n                ],\r\n                code: [\r\n                    {   required: true, message: '请输入验证码', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    {   required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { validator: passwordRult, trigger: 'blur' }\r\n                ]\r\n            },\r\n            codeText: '发送验证码',\r\n            codeTime: null,\r\n            codeLand: false,\r\n            isRegister: false,\r\n            codeId: \"\"\r\n        }\r\n    },\r\n    methods:{\r\n        submitForm(formName){\r\n            this.$refs[formName].validate((valid) => {\r\n                if (valid) {\r\n                    this.isRegister = true\r\n                    registerUser({\r\n                        ...this.loginFrom,\r\n                        uuid: this.codeId\r\n                    })\r\n                    .then(res => {\r\n                        if(res.status == 200){\r\n                            // this.$notify({\r\n                            //     title: '注册成功',\r\n                            //     message: res.message,\r\n                            //     type: 'success'\r\n                            // });\r\n                            this.$toast.success(res.message);\r\n                            this.loginFrom = {\r\n                                email: null,\r\n                                password: null,\r\n                                code: null\r\n                            }\r\n                            clearInterval(this.codeTime)\r\n                            this.codeText = '获取验证码'\r\n                            this.$router.push('/login')\r\n                        }else{\r\n                            this.$toast.fail(res.message);\r\n                            clearInterval(this.codeTime)\r\n                            this.codeText = '获取验证码'\r\n                            this.codeLand = false\r\n                            this.isRegister = false\r\n                        }\r\n\r\n                        this.isRegister = false\r\n                    },err => {\r\n                        clearInterval(this.codeTime)\r\n                        this.codeText = '获取验证码'\r\n                        this.isRegister = false\r\n                    })\r\n                    \r\n\r\n                } else {\r\n                    console.log('error submit!!');\r\n                    return false;\r\n                }\r\n                })\r\n        },\r\n        // 发送验证码\r\n        sendCode(){\r\n            let emailRL = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n    \r\n            if(!this.loginFrom.email || !emailRL.test(this.loginFrom.email)){\r\n                // this.$notify.error({\r\n                //     title: '邮箱地址错误',\r\n                //     message: '请输入正确的邮箱地址'\r\n                //     });\r\n                this.$toast.fail('邮箱地址错误');\r\n                return false\r\n            }\r\n\r\n            this.codeLand = true\r\n            registerUserSendEmail({\r\n                email: this.loginFrom.email\r\n            })\r\n            .then(res => {\r\n                if(res.status == 200){\r\n                    this.$toast.success('发送成功');\r\n\r\n                    let This = this\r\n                    let num = 120\r\n                    clearInterval(this.codeTime)\r\n                    this.codeTime = setInterval(()=>{\r\n                        if(num > 0){\r\n                            num = num - 1\r\n                            This.codeText = num + 'S后失效'\r\n                        }else{\r\n                            This.codeText = '重新获取验证码'\r\n                            clearInterval(This.codeTime)\r\n                            This.codeLand = false\r\n                        }\r\n                    },1000)\r\n                    this.codeId = res.data.uuid\r\n\r\n                }else{\r\n                    this.$toast.fail(res.message);\r\n                    this.codeLand = false\r\n                    clearInterval(this.codeTime)\r\n                    this.codeText = '获取验证码'\r\n                    this.isRegister = false\r\n                }\r\n            },err => {\r\n                this.codeLand = false\r\n                clearInterval(this.codeTime)\r\n                this.codeText = '获取验证码'\r\n                this.isRegister = fal\r\n            })\r\n            \r\n        }\r\n    },\r\n    destroyed(){\r\n        clearInterval(this.codeTime)\r\n        this.codeText = '获取验证码'\r\n    }\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.wxBox{\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 20px 20px 0 20px;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n}\r\n.wxFrom{\r\n    width: 100%;\r\n    height: auto;\r\n    \r\n}\r\n\r\n.wxBox >>> .el-form-item__content {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n</style>","import { render } from \"./RegisterUser.vue?vue&type=template&id=caf6c050&scoped=true\"\nimport script from \"./RegisterUser.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterUser.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterUser.vue?vue&type=style&index=0&id=caf6c050&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-caf6c050\"\n\nexport default script","import { render } from \"./Index.vue?vue&type=template&id=4bff3eda&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=4bff3eda&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4bff3eda\"\n\nexport default script","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=4bff3eda&lang=less&scoped=true\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=4bff3eda&lang=less&scoped=true\"","export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./RegisterUser.vue?vue&type=style&index=0&id=caf6c050&scoped=true&lang=css\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./RegisterUser.vue?vue&type=style&index=0&id=caf6c050&scoped=true&lang=css\""],"sourceRoot":""}