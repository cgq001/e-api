{"version":3,"sources":["webpack:///./src/views/Team/Index.vue","webpack:///./src/views/Team/Index.vue?228a","webpack:///./src/views/Team/Index.vue?b357","webpack:///./node_modules/_core-js@3.20.2@core-js/modules/es.array.map.js"],"names":["class","style","addTeam","title","goIndex","teamDataList","item","uuid","asideIndex","key","tegTeam","teamName","teamNameUpdata","maxlength","placeholder","type","submitUpdata","addUser","deleteTeam","tagTeam","data","tableData","border","label","width","align","prop","default","size","loading","teamLoad","removeTeam","scope","row","userShow","center","close-on-click-modal","close-on-press-escape","addForm","teamUserUuid","multiple","filterable","remote","reserve-keyword","remote-method","remoteMethod","options","value","isAddLoad","addTeamUser","teamShow","submitTeam","outUser","userValue","userOptions","created","this","getSearchTeam","methods","length","result","status","$toast","success","message","fail","teamActiveIndex","window","localStorage","getItem","teamActiveData","i","getSearchUserAllInfo","setItem","console","log","$router","push","oldTeamValue","removeItem","$store","commit","dispatch","query","teamUser","email","then","res","map","catch","$nextTick","finally","confirm","confirmButtonText","cancelButtonText","showClose","closeOnClickModal","closeOnPressEscape","teamValue","watch","handler","news","deep","immediate","render","__scopeId","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/Team.5e19daf5.js","sourcesContent":["<template>\r\n<!-- 项目 -->\r\n    <div class=\"teamIndex\">\r\n        <!-- 左侧 -->\r\n        <div class=\"teamIndexAside\">\r\n            <div class=\"teamIndexAsideNews\">\r\n                <div class=\"teamIndexAsideNameIcon\"\r\n                    @click=\"addTeam\">\r\n                    <span class=\"iconfont icon-jiahao\"></span>\r\n                </div>\r\n                <div class=\"teamIndexAsideNameText\"\r\n                    @click=\"addTeam\">\r\n                    新建团队\r\n                </div>\r\n                <div class=\"teamIndexAsideNameHome\">\r\n                    <span class=\"iconfont icon-zhuye\" title=\"主页\" @click=\"goIndex\"></span>\r\n                </div>\r\n            </div>\r\n            <div class=\"teamIndexAsideList\">\r\n                <el-scrollbar style=\"height:100%;\">\r\n                    <div class=\"teamIndexAsideListItem\" \r\n                        v-for=\"item in teamDataList\" :key=\"item\"\r\n                        :class=\"item.uuid == asideIndex && 'teamIndexAsideListItemActive'\"\r\n                        @click=\"tegTeam(item)\">\r\n                        <span class=\"iconfont icon-list\" style=\"color: #88A0CD;margin-right: 5px;\"></span>\r\n                        <span>{{item.teamName}}</span>\r\n                    </div>\r\n                </el-scrollbar>\r\n            </div>\r\n        </div>\r\n        <!-- 右侧 -->\r\n        <div class=\"teamIndexMain\" v-if=\"asideIndex\">\r\n            <div class=\"teamIndexMainName\">\r\n                <div class=\"teamIndexMainNameLeft\">\r\n                    团队名称：\r\n                </div>\r\n                <div class=\"teamIndexMainNameInput\">\r\n                    <el-input v-model=\"teamNameUpdata\" maxlength=\"16\" placeholder=\"请输入团队名称(限16个字符以内)\" />\r\n                </div>\r\n                <div class=\"teamIndexMainNameRight\">\r\n                    <el-button type=\"primary\" style=\"width: 120px;\" @click=\"submitUpdata\">确认修改</el-button>\r\n                </div>\r\n                <div class=\"teamIndexMainNameRight\">\r\n                    <el-button type=\"success\" style=\"width: 120px;\" @click=\"addUser\">添加成员</el-button>\r\n                </div>\r\n                <div class=\"teamIndexMainNameRight\">\r\n                    <el-button type=\"danger\" style=\"width: 120px;\" @click=\"deleteTeam\">解散团队</el-button>\r\n                </div>\r\n                <div class=\"teamIndexMainNameRight\" style=\"margin-left: 20px;\">\r\n                    <el-button type=\"text\" style=\"width: 120px;text-decoration: underline;color: red;\" @click=\"tagTeam\">切换团队</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"teamIndexMainTable\">\r\n                <el-table \r\n                    :data=\"tableData\" \r\n                    border style=\"width: 100%\"\r\n                    >\r\n                    <el-table-column \r\n                        label=\"序号\" \r\n                        type=\"index\" \r\n                        width=\"80\"\r\n                        align='center' />\r\n                    <el-table-column \r\n                        prop=\"name\" \r\n                        label=\"头像\" \r\n                        width=\"80\"\r\n                        align='center' />\r\n                    <el-table-column \r\n                        prop=\"nickName\" \r\n                        label=\"昵称\" \r\n                        width=\"280\"\r\n                        align='center' />\r\n                    <el-table-column \r\n                        prop=\"email\" \r\n                        label=\"邮箱\"\r\n                        align='center' />\r\n                    <el-table-column \r\n                        label=\"操作\" \r\n                        width=\"280\"\r\n                        align='center'>\r\n                        <template #default=\"scope\">\r\n                            <el-button size=\"small\" \r\n                                type=\"danger\"\r\n                                :loading=\"teamLoad\"\r\n                                @click=\"removeTeam(scope.row)\">移除团队</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n        <!-- 添加成员 -->\r\n        <el-dialog\r\n            v-model=\"userShow\"\r\n            title=\"添加成员\"\r\n            width=\"30%\"\r\n            center\r\n            :close-on-click-modal='false'\r\n            :close-on-press-escape='false'\r\n        >\r\n            <!-- <el-select \r\n                v-model=\"userValue\" \r\n                placeholder=\"请输入账号搜索\" \r\n                size=\"large\"\r\n                style=\"width: 100%;margin-bottom: 50px;\">\r\n                <el-option\r\n                v-for=\"item in userOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n                >\r\n                </el-option>\r\n            </el-select> -->\r\n            <el-select\r\n                v-model=\"addForm.teamUserUuid\"\r\n                multiple\r\n                filterable\r\n                remote\r\n                reserve-keyword\r\n                placeholder=\"请输入账号搜索\" \r\n                size=\"large\"\r\n                style=\"width: 100%;margin-bottom: 50px;\"\r\n                :remote-method=\"remoteMethod\"\r\n                :loading=\"loading\">\r\n                <el-option\r\n                    v-for=\"item in options\"\r\n                    :key=\"item.value\"\r\n                    :label=\"item.label\"\r\n                    :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n            <div class=\"teamSubmit\">\r\n                <el-button size=\"small\" type=\"primary\" style=\"width: 150px;\"\r\n                  :loading=\"isAddLoad\"\r\n                 @click=\"addTeamUser\">确认添加</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <!-- 新建团队 -->\r\n        <el-dialog\r\n            v-model=\"teamShow\"\r\n            title=\"新建团队\"\r\n            width=\"30%\"\r\n            center\r\n            :close-on-click-modal='false'\r\n            :close-on-press-escape='false'\r\n        >\r\n            <el-input \r\n                v-model.trim=\"teamName\" \r\n                placeholder=\"请输入团队名称(限16个字符以内)\"\r\n                style=\"margin-bottom: 20px;\"\r\n                maxlength=\"16\" />\r\n            <div class=\"teamSubmit\">\r\n                <el-button \r\n                    size=\"small\" \r\n                    type=\"primary\" \r\n                    style=\"width: 100%;\"\r\n                    :loading=\"teamLoad\"\r\n                    @click=\"submitTeam\"\r\n                    >确认添加</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { \r\n    addTeam , \r\n    searchTeam, \r\n    searchUserAllInfo,\r\n    updataTeam,\r\n    searchTeamUserTeam,\r\n    addTeamUserItem,\r\n    removeTeamUserItem,\r\n    removeTeamItem } from '../../api/item'\r\nimport { ElMessageBox } from 'element-plus'\r\nexport default {\r\n    data(){\r\n        return {\r\n            asideIndex: null,\r\n            teamNameUpdata: '',\r\n            tableData: [],\r\n            outUser: [],\r\n            userShow: false,\r\n            userValue: '',\r\n            userOptions: [\r\n                {\r\n                    value: '',\r\n                    label: '张三'\r\n                }\r\n            ],\r\n            teamShow: false,\r\n            teamName: '',\r\n            teamLoad: false,\r\n            teamDataList: [],\r\n            loading: false,\r\n            options: [],\r\n            addForm:{\r\n                teamUserUuid: ''\r\n            },\r\n            isAddLoad: false\r\n        }\r\n    },\r\n    created(){\r\n        this.getSearchTeam()\r\n    },\r\n    methods: {\r\n        // \r\n        addTeam(){\r\n            this.teamShow = true\r\n            this.teamName = ''\r\n        },\r\n        // 新建团队\r\n        async submitTeam(){\r\n            if(this.teamName.length == 0){\r\n                return false\r\n            }\r\n            this.teamLoad = true\r\n            let result = await addTeam({\r\n                teamName: this.teamName\r\n            })\r\n            this.teamLoad = false\r\n            if(result.status == 200){\r\n                this.$toast.success(result.message)\r\n                this.teamShow = false\r\n                this.getSearchTeam()\r\n            }else{\r\n                this.$toast.fail(result.message)\r\n            }\r\n        },\r\n        // 查询团队\r\n        async getSearchTeam(){\r\n            let result = await searchTeam()\r\n            if(result.status == 200){\r\n                this.teamDataList = result.data || []\r\n                if(this.teamDataList.length >0){\r\n\r\n                    let teamActiveIndex = window.localStorage.getItem('teamActiveIndex')\r\n        \r\n\r\n                    if(teamActiveIndex){\r\n                        this.asideIndex = teamActiveIndex\r\n                        this.teamNameUpdata = ''\r\n                        let teamActiveData = []\r\n                        for(let i=0; i<this.teamDataList.length; i++){\r\n                            if(this.teamDataList[i].uuid == teamActiveIndex){\r\n                                teamActiveData = this.teamDataList[i].teamUserUuid\r\n                                this.teamNameUpdata = this.teamDataList[i].teamName\r\n                            }\r\n                        }\r\n                        this.getSearchUserAllInfo(teamActiveData)\r\n                    }else{\r\n                        this.asideIndex = this.teamDataList[0].uuid\r\n                        this.teamNameUpdata = this.teamDataList[0].teamName\r\n                        this.getSearchUserAllInfo(this.teamDataList[0].teamUserUuid)\r\n                        // 记录当前团队\r\n                        window.localStorage.setItem('teamActiveIndex', this.teamDataList[0].uuid)\r\n                    }\r\n                    \r\n                }\r\n            }else{\r\n                this.$toast.fail(result.message)\r\n            }\r\n        },\r\n        // 切换团队\r\n        async tegTeam(item){\r\n            console.log(item)\r\n            this.asideIndex = item.uuid\r\n            this.teamNameUpdata = item.teamName\r\n            this.getSearchUserAllInfo(item.teamUserUuid)\r\n            window.localStorage.setItem('teamActiveIndex', item.uuid)       \r\n\r\n        },\r\n        // 查询团队成员信息\r\n        async getSearchUserAllInfo(teamUserUuid){\r\n            let result = await searchUserAllInfo({\r\n                teamUserUuid:teamUserUuid\r\n            })\r\n            if(result.status == 200){\r\n                this.tableData  = result.data\r\n            }\r\n        },\r\n\r\n        // 修改团队名称\r\n        async submitUpdata(){\r\n            let result = await updataTeam({\r\n                uuid: this.asideIndex,\r\n                teamName: this.teamNameUpdata\r\n            })\r\n\r\n            if(result.status == 200){\r\n                this.$toast.success(result.message)\r\n                this.getSearchTeam()\r\n            }else{\r\n                this.$toast.fail(result.message)\r\n            }\r\n        },\r\n        // 回主页\r\n        goIndex(){\r\n            this.$router.push('/')\r\n        },\r\n        // 切换团队\r\n        tagTeam(){\r\n            // this.asideIndex\r\n            // window.localStorage.setItem('teamValue', this.asideIndex)\r\n            \r\n\r\n            let oldTeamValue = window.localStorage.getItem('teamValue')\r\n                if(oldTeamValue && oldTeamValue == this.asideIndex){\r\n                    this.teamShow = false\r\n                    this.$toast.success('切换成功')\r\n                    this.$router.push('/')\r\n                }else{\r\n                     window.localStorage.setItem('teamValue', this.asideIndex)\r\n                     window.localStorage.removeItem('projectValue')\r\n                     this.$store.commit('ApiList/clearStore')\r\n                     this.$router.push('/')\r\n                     this.$store.dispatch('ApiList/getTeamInfo',this.asideIndex)\r\n                }\r\n \r\n        },\r\n        // 搜索用户\r\n        remoteMethod(query) {\r\n            if (query !== '') {\r\n                this.loading = true;\r\n                searchTeamUserTeam({\r\n                    teamUser: this.outUser,\r\n                    email: query\r\n                })\r\n                .then(res => {\r\n                    this.loading = false\r\n                    if(res.status == 200){\r\n                        let data = res.data || []\r\n                            data.map(item => {\r\n                                item.value = item.uuid\r\n                                item.label = item.email\r\n                            })\r\n                            this.options = data;\r\n                        return data\r\n                    }\r\n                })\r\n                .catch(()=>{\r\n                    this.loading = false\r\n                })\r\n            } else {\r\n            this.options = [];\r\n            }\r\n        },\r\n        // 添加用户\r\n        addTeamUser(){\r\n            if(this.addForm.teamUserUuid.length == 0){\r\n                this.$toast.fail('请先选择用户')\r\n                return\r\n            }\r\n            this.isAddLoad = true\r\n            addTeamUserItem({\r\n                uuid: this.asideIndex,\r\n                teamUser: this.addForm.teamUserUuid\r\n            })\r\n            .then(res => {\r\n                this.isAddLoad = false\r\n                if(res.status == 200){\r\n                    this.userShow = false\r\n                    this.getSearchTeam()\r\n                    this.$nextTick(()=>{\r\n                        this.$toast.success('添加成功')\r\n                    })\r\n                }\r\n            })\r\n            .finally(()=>{\r\n                this.isAddLoad = false\r\n            })\r\n\r\n        },\r\n        // 添加成员\r\n        addUser(){\r\n            this.addForm.teamUserUuid = []\r\n            this.options = []\r\n            this.userShow = true\r\n        },\r\n        // 移除用户\r\n        removeTeam(item){\r\n            this.teamLoad = true\r\n            removeTeamUserItem({\r\n                uuid: this.asideIndex,\r\n                teamUser: item.uuid\r\n            })\r\n            .then((res)=>{\r\n                if(res.status == 200){\r\n                    this.teamLoad = false\r\n                    this.getSearchTeam()\r\n                }\r\n            })\r\n            .finally(()=>{\r\n                this.teamLoad = false\r\n            })\r\n        },\r\n        // 解散团队\r\n        deleteTeam(){\r\n            ElMessageBox.confirm(\r\n                '确定要解散该团队吗?',\r\n                '警告',\r\n                {\r\n                confirmButtonText: '解散',\r\n                cancelButtonText: '算了',\r\n                type: 'warning',\r\n                showClose: false,\r\n                closeOnClickModal: false,\r\n                closeOnPressEscape: false\r\n                }\r\n            )\r\n                .then(() => {\r\n                    removeTeamItem({\r\n                        uuid: this.asideIndex\r\n                    })\r\n                    .then(res => {\r\n                        if(res.status == 200){\r\n                            \r\n                            let teamActiveIndex = window.localStorage.getItem('teamActiveIndex')\r\n                                if(teamActiveIndex == this.asideIndex){\r\n                                    window.localStorage.removeItem('teamActiveIndex')\r\n                                }\r\n                            \r\n                            // 清空已经保存的当前团队、项目、tab\r\n                            let teamValue = window.localStorage.getItem('teamValue')\r\n                            if(teamValue == this.asideIndex){\r\n                                window.localStorage.removeItem('teamValue')\r\n                                window.localStorage.removeItem('projectValue')\r\n                                this.$store.commit('ApiList/clearStore')\r\n                            }\r\n\r\n                            this.getSearchTeam()\r\n                        }\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    \r\n                })\r\n           \r\n        }\r\n    },\r\n    watch: {\r\n        tableData:{\r\n            handler(news){\r\n                if(news.length > 0){\r\n                    this.outUser = news.map(item => {\r\n                        return item.uuid\r\n                    })\r\n                }\r\n            },\r\n            deep: true,\r\n            immediate: true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.teamIndex{\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n}\r\n.teamIndexAside{\r\n    width: 310px;\r\n    height: 100%;\r\n    /* background: yellow; */\r\n    padding: 5px 0;\r\n    box-sizing: border-box;\r\n    border-right: 1px solid #DCDFE6;\r\n    box-sizing: border-box;\r\n}\r\n.teamIndexAsideNews{\r\n    height: 45px;\r\n    /* background: blueviolet; */\r\n    font-size: 12px;\r\n    line-height: 45px;\r\n    border-bottom: 1px solid #DCDFE6;\r\n    box-sizing: border-box;\r\n    padding: 0 5px;\r\n    display: flex;\r\n    cursor: pointer;\r\n}\r\n.teamIndexAsideNameIcon{\r\n    width: 25px;\r\n    height: 45px;\r\n    /* background: yellow; */\r\n    text-align: center;\r\n    line-height: 45px;\r\n    cursor: pointer;\r\n    color: #EF2B20;\r\n}\r\n.teamIndexAsideNameText{\r\n    width: 120px;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    text-overflow:ellipsis;\r\n    white-space: nowrap;\r\n    color: #EF2B20;\r\n    font-weight: bold;\r\n    /* background: turquoise; */\r\n}\r\n.teamIndexAsideNameHome{\r\n    width: calc(100% - 170px);\r\n    height: 100%;\r\n    /* background: coral; */\r\n    text-align: right;\r\n}\r\n.teamIndexAsideNameHome span{\r\n    color: #A8ACAE;\r\n}\r\n.teamIndexAsideList{\r\n    width: 100%;\r\n    height: calc(100% - 45px);\r\n    /* background: cornflowerblue; */\r\n    box-sizing: border-box;\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    -ms-overflow-style: none; \r\n    overflow: '-moz-scrollbars-none';\r\n    scrollbar-width: none;  /*  火狐   */\r\n    padding-left: 5px;\r\n}\r\n.teamIndexAsideList::-webkit-scrollbar {\r\n    display: none;  /*  Chrome  */\r\n    width: 0 !important ; /*  Chrome  */\r\n}\r\n.teamIndexMain{\r\n    width: calc(100% - 310px);\r\n    height: 100%;\r\n    /* background: chocolate; */\r\n    padding-top: 20px;\r\n    box-sizing: border-box;\r\n}\r\n.teamIndexAsideListItem{\r\n    width: 100%;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    /* background: crimson; */\r\n    cursor: pointer;\r\n    padding-left: 10px;\r\n    box-sizing: border-box;\r\n    border-left: 3px solid transparent;\r\n    color: #767779;\r\n    font-size: 14px;\r\n    margin: 5px 0;\r\n}\r\n.teamIndexAsideListItemActive{\r\n   background: #EAF2FF;\r\n   border-left-color: #2C7BFB; \r\n}\r\n\r\n.teamIndexMainName{\r\n    width: 100%;\r\n    height: 50px;\r\n    /* background: violet; */\r\n    line-height: 50px;\r\n    padding: 0 20px;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.teamIndexMainNameLeft{\r\n    width: 100px;\r\n    height: 100%;\r\n    /* background: turquoise; */\r\n}\r\n.teamIndexMainNameRight{\r\n    width: 120px;\r\n    height: 100%;\r\n    /* background: turquoise; */\r\n    margin-left: 10px;\r\n    \r\n}\r\n.teamIndexMainNameInput{\r\n    flex: 1;\r\n    height: 100%;\r\n    padding: 0 20px;\r\n    box-sizing: border-box;\r\n}\r\n.teamIndexMainTable{\r\n    width: 100%;\r\n    height: calc(100% - 50px);\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    -ms-overflow-style: none; \r\n    overflow: '-moz-scrollbars-none';\r\n    scrollbar-width: none;  /*  火狐   */\r\n    padding: 20px;\r\n    box-sizing: border-box;\r\n}\r\n.teamIndexMainTable::-webkit-scrollbar {\r\n    display: none;  /*  Chrome  */\r\n    width: 0 !important ; /*  Chrome  */\r\n}\r\n.teamSubmit{\r\n    width: 100%;\r\n    height: 45px;\r\n    /* background: chocolate; */\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n</style>","import { render } from \"./Index.vue?vue&type=template&id=14cb4708&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=14cb4708&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-14cb4708\"\n\nexport default script","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=14cb4708&scoped=true&lang=css\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=14cb4708&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}