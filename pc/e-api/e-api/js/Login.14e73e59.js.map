{"version":3,"sources":["webpack:///./src/views/Login/components/UserName.vue?a8b2","webpack:///./src/views/Login/Index.vue?a73e","webpack:///./src/views/Login/Index.vue","webpack:///./src/views/Login/components/UserName.vue","webpack:///./src/views/Login/components/UserName.vue?8165","webpack:///./src/views/Login/Index.vue?4a03"],"names":["class","isElectron","goClose","type","href","resultPassword","model","loginFrom","rules","rulesFrom","ref","prop","spellcheck","email","placeholder","style","password","loading","isLoading","submitUser","data","validatePass","rule","value","callback","rgP","Error","test","required","message","trigger","validator","methods","ruleForm","this","$refs","validate","valid","result","status","$store","commit","window","localStorage","removeItem","$toast","success","token","$router","replace","fail","render","__scopeId","components","UserName","created","$electron","ipcRenderer","send","prompt","confirmButtonText","cancelButtonText","inputPattern","inputErrorMessage","then","res","catch"],"mappings":"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","file":"js/Login.14e73e59.js","sourcesContent":["export { default } from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./UserName.vue?vue&type=style&index=0&id=4a1cfc17&scoped=true&lang=css\"; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./UserName.vue?vue&type=style&index=0&id=4a1cfc17&scoped=true&lang=css\"","export { default } from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=1db3e006&scoped=true&lang=css\"; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader-v16@16.0.0-beta.5.4@vue-loader-v16/dist/index.js??ref--1-1!./Index.vue?vue&type=style&index=0&id=1db3e006&scoped=true&lang=css\"","<template>\r\n<!-- 登陆 -->\r\n    <div class=\"loginBox\">\r\n        <div class=\"loginMain\">\r\n            <div class=\"loginTitle\">\r\n                <span>E-API</span>\r\n                <span class=\"el-icon-s-tools loginTitleSet\" ></span>\r\n                <span class=\"iconfont icon-guanbi1 loginTitleIcon\" v-if=\"isElectron == 1\" @click=\"goClose\"></span>\r\n                \r\n            </div>\r\n            <div class=\"loginTag\">\r\n                <div class=\"loginTagItem\">账号登录</div>\r\n            </div>\r\n            <div class=\"loginMainContent\">\r\n                <UserName></UserName>\r\n            </div>\r\n            <!-- 忘记密码 -->\r\n            <div class=\"wxBoxFoot\">\r\n                <el-link type=\"primary\" href='#/register'>注册新用户</el-link>\r\n                <el-link type=\"danger\" @click=\"resultPassword\">忘记密码</el-link>\r\n                <!-- <el-button type=\"text\"  >忘记密码</el-button> -->\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport UserName from './components/UserName.vue'\r\n\r\nimport { ElMessageBox } from 'element-plus'\r\nimport { resultUserInfoPassword } from '../../api/item'\r\n\r\nexport default {\r\n    components:{\r\n        UserName\r\n    },\r\n    data(){\r\n        return {\r\n            isElectron: process.env.VUE_APP_Electron\r\n        }\r\n    },\r\n    created(){\r\n\r\n    },\r\n    methods: {\r\n        goClose(){\r\n            // 切换\r\n            this.$electron.ipcRenderer.send('window-quit') \r\n        },\r\n        resultPassword(){\r\n            ElMessageBox.prompt('请输入需要重置密码的邮箱', '重置密码', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                inputPattern:\r\n                /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\r\n                inputErrorMessage: '请输入正确的邮箱',\r\n            })\r\n                .then(({ value }) => {\r\n                    resultUserInfoPassword({\r\n                        email: value\r\n                    })\r\n                    .then(res => {\r\n                        if(res.status == 200){\r\n                            this.$toast.success(res.message)\r\n                        }else{\r\n                            this.$toast.fail(res.message)\r\n                        }\r\n                    })\r\n                })\r\n                .catch(() => {\r\n                    \r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style  scoped>\r\n.loginBox{\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background: url('../../assets/image/loginBg.png') no-repeat;\r\n    background-size: 100% 100%;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.loginMain{\r\n    width: 450px;\r\n    height: 430px;\r\n    background: #fff;\r\n    position: relative;\r\n}\r\n.loginTitle{\r\n    width: 100%;\r\n    height: 30px;\r\n    padding: 0 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    font-size: 12px;\r\n    color: #636B82;\r\n    position: relative;\r\n}\r\n.loginTitle span:nth-child(1){\r\n    width: calc(100% - 60px);\r\n    height: 30px;\r\n    display: inline-block;\r\n    line-height: 30px;\r\n    -webkit-app-region: drag;\r\n}\r\n.loginTitleIcon{\r\n    width: 26px;\r\n    height: 30px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    z-index: 1;\r\n    font-size: 12px;\r\n}\r\n\r\n.loginTitleSet{\r\n    width: 30px;\r\n    height: 30px;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    line-height: 30px;\r\n}\r\n\r\n.loginTag{\r\n    width: 100%;\r\n    height: 40px;\r\n    border-bottom: 1px solid #E9ECEF;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n.loginTagItem{\r\n    width: 100%;\r\n    height: 100%;\r\n    text-align: center;\r\n    line-height: 40px;\r\n    cursor: pointer;\r\n}\r\n.loginMainContent{\r\n    width: 100%;\r\n    height: calc(100% - 70px);\r\n}\r\n.wxBoxFoot{\r\n    width: 100%;\r\n    height: 35px;\r\n    position: absolute;\r\n    left: 0;\r\n    bottom: 10px;\r\n    padding: 0px 20px 0 20px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n}\r\n</style>","<template>\r\n    <div class=\"wxBox\">\r\n        <!-- 表单 -->\r\n        <div class=\"wxFrom\">\r\n            <el-form :model=\"loginFrom\" :rules=\"rulesFrom\" ref=\"ruleForm\" class=\"demo-ruleForm\">\r\n                <el-form-item  prop=\"email\">\r\n                    <el-input spellcheck=\"false\" v-model=\"loginFrom.email\" placeholder=\"请输入邮箱地址\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item  prop=\"password\" style=\"margin-bottom: 50px;\">\r\n                    <el-input spellcheck=\"false\" style=\"width: 100%\" type=\"password\" v-model=\"loginFrom.password\" placeholder=\"请输入密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" style=\"width: 100%\" :loading=\"isLoading\" @click=\"submitUser('ruleForm')\">立即登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n        \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { userLand } from '../../../api/item'\r\nimport { setToken } from '@/utils/auth';\r\n\r\nexport default {\r\n    data(){\r\n        var validatePass = (rule, value, callback) => {\r\n            // \r\n            let rgP = /^[a-zA-Z0-9_-]{6,18}$/\r\n            \r\n            if (value === '') {\r\n                callback(new Error('请输入密码'));\r\n            }else if(!rgP.test(value)){\r\n                callback(new Error('密码为6~18位的字母、数字、下划线组成'));\r\n            } else {\r\n                callback();\r\n            }\r\n        };\r\n        return {\r\n            loginFrom:{\r\n                email: null,\r\n                password: null\r\n            },\r\n            rulesFrom: {\r\n                email: [\r\n                    {  type: 'email' , required: true, message: '请输入邮箱地址', trigger: 'blur' }\r\n                ],\r\n                password: [\r\n                    {   required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { validator: validatePass, trigger: 'blur' }\r\n                ]\r\n            },\r\n            isLoading: false\r\n        }\r\n    },\r\n    methods:{\r\n        submitUser(ruleForm){\r\n            this.$refs[ruleForm].validate(async (valid) => {\r\n                if (valid) {\r\n                    this.isLoading = true\r\n                    let result = await userLand({\r\n                        ...this.loginFrom\r\n                    })\r\n                    this.isLoading = false\r\n\r\n                    if(result.status == 200){\r\n                        this.$store.commit('ApiList/clearStore')\r\n                        window.localStorage.removeItem('projectValue')\r\n                        window.localStorage.removeItem('teamValue')\r\n                        window.localStorage.removeItem('teamActiveIndex')\r\n\r\n                        this.$toast.success(result.message)\r\n                        this.$store.commit('userApi/setTokenState',result.data.token)\r\n                        this.$store.commit('ApiList/setTeamInfo',{})\r\n                        setToken(result.data.token)\r\n                        this.$router.replace('/')\r\n                    }else{\r\n                        this.$toast.fail(result.message)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.wxBox{\r\n    width: 100%;\r\n    height: 100%;\r\n    padding: 20px 20px 0 20px;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n}\r\n.wxFrom{\r\n    width: 100%;\r\n    height: auto;\r\n}\r\n\r\n\r\n</style>","import { render } from \"./UserName.vue?vue&type=template&id=4a1cfc17&scoped=true\"\nimport script from \"./UserName.vue?vue&type=script&lang=js\"\nexport * from \"./UserName.vue?vue&type=script&lang=js\"\n\nimport \"./UserName.vue?vue&type=style&index=0&id=4a1cfc17&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-4a1cfc17\"\n\nexport default script","import { render } from \"./Index.vue?vue&type=template&id=1db3e006&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=1db3e006&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-1db3e006\"\n\nexport default script"],"sourceRoot":""}